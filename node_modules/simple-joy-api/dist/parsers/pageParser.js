"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const postParser_1 = __importDefault(require("./Post/postParser"));
const Page_1 = __importDefault(require("../models/Page"));
class PageParser {
    parsePage($page) {
        const page = new Page_1.default();
        const postContainers = $page('.postContainer');
        postContainers.map((i, el) => {
            page.addPost(postParser_1.default.parsePost(el));
        });
        page.nextPage = PageParser.parsePageNumber($page, 'next');
        page.prevPage = PageParser.parsePageNumber($page, 'prev');
        return page;
    }
    static parsePageNumber($page, name) {
        const page = $page('.pagination_main > .' + name)[0];
        return page ? Number(page.attribs.href.slice(1)) : null;
    }
}
exports.default = new PageParser();
